package kr.sping.controller;

import java.util.ArrayList;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.RequestMapping;

import kr.sping.entity.Board;

@Controller// í˜„ì¬í´ë˜ìŠ¤ë¥¼ í•¸ë“¤ëŸ¬ë§µí•‘ì´ ì°¾ê¸°ìœ„í•´ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë“±ë¡í•˜ëŠ” ë¶€ë¶„
public class BoardController {
	
//	@RequestMapping("/") //ìš”ì²­ urlë¡œ ë“¤ì–´ì™”ì„ë•Œ ì•„ë˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê² ë‹¤
//	public String home() {
//		System.out.println("í™ˆ ê¸°ëŠ¥ ìˆ˜í–‰");
//		return "boardList"; //view nameì„ ëŒë ¤ì¤€ë‹¤ 
//		                    //viewsì•ˆì— boardList.jsp í™”ë©´ìœ¼ë¡œ ì´ë™í•œë‹¤
//		                    //Controllerê°€ boardListë¥¼ ë¦¬í„´í–ˆì„ë–„ boardList.jspë¥¼ ì°¾ì•„ê°„ë‹¤
//	}
	
	@RequestMapping("/boardList.do") //ìš”ì²­ urlë¡œ ë“¤ì–´ì™”ì„ë•Œ ì•„ë˜ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê² ë‹¤
	public String boardList(Model model) { //ë§¤ê²Œë³€ìˆ˜ì— modelì„ ì ìœ¼ë©´ ë©”ì„œë“œê°€ ì‹¤í–‰ë˜ë©´ì„œ modelì„ ê°€ì ¸ì˜¨ë‹¤
		System.out.println("ê²Œì‹œíŒëª©ë¡ë³´ê¸° ê¸°ëŠ¥ìˆ˜í–‰");
		
		//boardListë¡œ ì´ë™ì„ í• ë–„,
		//ê²Œì‹œê¸€ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì•¼í•œë‹¤
		//í•œê°œì˜ ê²Œì‹œê¸€ì˜ ì •ë³´ëŠ” - ë²ˆí˜¸, ì œëª©, ë‚´ìš©, ì‘ì„±ì, ì‘ì„±ì¼, ì¡°íšŒìˆ˜ ë“± 6ê°œì˜ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆë‹¤ 
		//(DTO: ì‚¬ìš©ì ì •ì˜ì—ì„œ ë§Œë“  í´ë˜ìŠ¤), íšŒì›ì •ë³´ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ê¸°ìœ„í•´ DTOë¥¼ ë§Œë“ ë‹¤, ë°ì´í„°ë¥¼ ë„˜ê¸°ê¸°ìœ„í•´ì„œ DTO í˜•íƒœë¡œ ë„˜ê²¨ì•¼í•œë‹¤
		
		Board b1 = new Board(1, "ê³µì§€ì‚¬í•­: ì—¬ë¦„ë°©í•™ ì¼ì •", "ì—¬ë¦„ë°©í•™ì€ 8ì›” 1ì¼ë¶€í„°ì…ë‹ˆë‹¤.", "ê´€ë¦¬ì", "2025.07.25", 12);
		Board b2 = new Board(2, "ììœ ê²Œì‹œíŒ ì´ìš© ì•ˆë‚´", "ìš•ì„¤, ê´‘ê³ ê¸€ì€ ê¸ˆì§€ì…ë‹ˆë‹¤.", "ìš´ì˜ì", "2025.07.26", 34);
		Board b3 = new Board(3, "ì§ˆë¬¸ ìˆìŠµë‹ˆë‹¤!", "ìë°”ì—ì„œ ë°°ì—´ê³¼ ë¦¬ìŠ¤íŠ¸ ì°¨ì´ê°€ ë­”ê°€ìš”?", "í™ê¸¸ë™", "2025.07.27", 8);
		Board b4 = new Board(4, "ìë°” ê³µë¶€ ê¿€íŒ ê³µìœ ", "ì—´ì‹¬íˆ ë³µìŠµí•˜ê³  ì§ì ‘ ì½”ë“œ ì‘ì„±í•˜ëŠ” ê²Œ ìµœê³ !", "ê¹€ìë°”", "2025.07.28", 23);
		Board b5 = new Board(5, "ì˜¤ëŠ˜ ë‚ ì”¨ ì¢‹ë„¤ìš”", "í•˜ëŠ˜ì´ ë§‘ê³  ê¸°ë¶„ì´ ì¢‹ë„¤ìš” ğŸ˜Š", "ì´í•˜ëŠ˜", "2025.07.29", 5);

		//í•˜ë‚˜ë¡œ ë¬¶ì–´ì„œ ë‹´ê³ , ê°€ë³€ì¸ ArrayListì— ë‹´ì•„ì¤€ë‹¤ 
		ArrayList<Board> list = new ArrayList<>();
		list.add(b1);
		list.add(b2);
		list.add(b3);
		list.add(b4);
		list.add(b5);
		
		// listë¥¼ boardListë¡œ ì „ë‹¬í•´ì•¼ í•œë‹¤.
		// boardList.jsp í•œ í˜ì´ì§€ì—ì„œë§Œ ê²Œì‹œê¸€ì„ ì¶œë ¥í•˜ë¯€ë¡œ,
		// session(ë¸Œë¼ìš°ì € ì „ë°˜ì—ì„œ ìœ ì§€ë˜ëŠ” ì €ì¥ì†Œ)ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì„œë²„ ë¦¬ì†ŒìŠ¤ë¥¼ ë‚­ë¹„í•˜ê²Œ ëœë‹¤.
		// ë”°ë¼ì„œ Springì—ì„œëŠ” sessionì´ í•„ìš”í•˜ì§€ ì•Šì„ ê²½ìš°, Modelì„ ì‚¬ìš©í•œë‹¤.
		// Modelì€ ìš”ì²­(Request) ë²”ìœ„ì—ì„œë§Œ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê°ì²´ë¡œ, í•œ ë²ˆì˜ ìš”ì²­ ë‚´ì—ì„œë§Œ ë°ì´í„°ë¥¼ ì‚¬ìš©í•  ë•Œ ì í•©í•˜ë‹¤.
		model.addAttribute("list", list);
		//listë¼ëŠ” ì´ë¦„ìœ¼ë¡œ listë¥¼ ë‹´ì•„ì¤€ë‹¤
		//addAttribute(): ë·°ë¡œ ë°ì´í„°ë¥¼ ì „ë‹¬í• ë•Œ ì‚¬ìš©, request.setAttribute() ë¹„ìŠ·í•œ ì—­í• 
		 //Spring MVC Controller ì•ˆì—ì„œë§Œ ì‚¬ìš©í•œë‹¤
		
		return "boardList"; //boardList.doë¡œ ìš”ì²­ì„ í–ˆì„ë–„ â†’ boardListë¡œ ì´ë™í•œë‹¤
	}
	
	
	
	
}

